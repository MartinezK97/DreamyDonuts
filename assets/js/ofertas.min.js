window.addEventListener("load",function(){let e=document.getElementById("content"),t=document.getElementById("slider"),r=document.querySelector(".bodyBG"),l=document.querySelectorAll("#content > article"),n=16*parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||0,o=window.innerHeight-n;function i(){o=window.innerHeight-n,l.forEach(e=>{e.style.minHeight=`${o}px`}),t.scrollTop=t.scrollHeight,e.scrollTop=0,r.scrollLeft=0}i(),window.addEventListener("resize",i);let s=!1,a=0;e.style.scrollSnapType="y mandatory",l.forEach(e=>{e.style.scrollSnapAlign="start"});let c=!1;e.addEventListener("scroll",()=>{c||(c=!0,requestAnimationFrame(()=>{(function n(){if(s)return;s=!0;let i=e.scrollTop,c=Math.round(i/o);if(c!==a){a=Math.min(Math.max(c,0),l.length-1);let d=t.scrollHeight-(a+1)*(t.scrollHeight/l.length),h=(r.scrollWidth-window.innerWidth)*(a/(l.length-1));t.scrollTo({top:d,behavior:"smooth"}),r.scrollTo({left:h,behavior:"smooth"})}s=!1})(),c=!1}))}),document.addEventListener("keydown",t=>{if(["ArrowDown","ArrowUp"," "].includes(t.key)&&t.preventDefault(),"ArrowDown"===t.key||" "===t.key){let r=Math.min(a+1,l.length-1);e.scrollTo(0,r*o)}else if("ArrowUp"===t.key){let n=Math.max(a-1,0);e.scrollTo(0,n*o)}});let d;e.addEventListener("wheel",t=>{clearTimeout(d),d=setTimeout(()=>{let r=Math.sign(t.deltaY),n=Math.min(Math.max(a+r,0),l.length-1);e.scrollTo(0,n*o)},100)},{passive:!0})}),document.addEventListener("DOMContentLoaded",()=>{let e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){let r=document.createElement("iframe");r.title="Ubicaci\xf3n de Dreamy Donuts",r.src=t.target.dataset.src,r.setAttribute("loading","lazy"),r.setAttribute("referrerpolicy","no-referrer-when-downgrade"),r.width="200",r.height="100",r.style.border="0",t.target.replaceWith(r),e.unobserve(t.target)}})});document.querySelectorAll(".map-container").forEach(t=>{e.observe(t)})});